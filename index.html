<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A free 3D tool to visually check if strollers, luggage, and other items will fit in your car's boot. Supports presets for popular cars and items, or create your own.">
    <title>Does My Boot Fit</title>
    
    <!-- AdSense Snippet -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9583160305658839" crossorigin="anonymous"></script>
    
    <!-- Three.js Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <header class="section">
                <div class="logo-container">
                    <img src="logo.png" alt="Does My Boot Fit Logo" class="logo-img" />
                </div>
                <div class="fit-status">
                    <h2>Fit Status</h2>
                    <div class="badges">
                        <span id="fitStatusBadge" class="badge">No item</span>
                    </div>
                </div>
                <p class="description">Use mouse to orbit and scroll to zoom. Drag an item to move it on the floor.</p>
            </header>

            <section class="section">
                <h3>Car Model</h3>
                <div class="button-group">
                    <div class="typeahead-container">
                        <input id="carSelectorInput" class="typeahead-input" type="text" placeholder="Search or select car..." autocomplete="off">
                        <div id="carSelectorDropdown" class="typeahead-dropdown"></div>
                    </div>
                    <button id="editCarBtn" class="btn" onclick="window.app.editActiveCar()" style="display: none;">Edit</button>
                    <button id="deleteCarBtn" class="btn danger" onclick="window.app.deleteActiveCar()" style="display: none;">Delete</button>
                </div>
                <div class="button-group button-group-margin">
                    <button class="btn" onclick="window.app.showCarModal()">+ Add Custom Car</button>
                </div>
                <div class="input-grid input-grid-margin">
                    <div class="input-group"><label>Width</label><input type="number" id="bootWidth" step="0.1" onchange="window.app.updateBootManual()"></div>
                    <div class="input-group"><label>Depth</label><input type="number" id="bootDepth" step="0.1" onchange="window.app.updateBootManual()"></div>
                    <div class="input-group"><label>Height</label><input type="number" id="bootHeight" step="0.1" readonly></div>
                </div>
                <div class="toggle-group toggle-group-margin">
                    <label for="shelfToggle">Parcel Shelf In</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="shelfToggle" onchange="window.app.toggleShelf()">
                        <span class="slider"></span>
                    </label>
                </div>
            </section>

            <section class="section">
                <h3>Manage Objects</h3>
                <div class="button-group button-group-margin">
                    <div class="typeahead-container">
                        <input id="addItemTypeaheadInput" class="typeahead-input" type="text" placeholder="Add object to scene..." autocomplete="off">
                        <div id="addItemTypeaheadDropdown" class="typeahead-dropdown"></div>
                    </div>
                </div>
                <div class="button-group button-group-margin">
                    <button class="btn" onclick="window.app.showItemModal()">+ Add Custom Item</button>
                </div>
                <div class="button-group button-group-margin">
                    <label for="objectSelector" style="margin-bottom: 0.25em; display: block; font-weight: 500;">Select object in scene</label>
                    <select id="objectSelector" class="dropdown" style="width: 100%; margin-bottom: 0.5em;"></select>
                    <button class="btn danger" onclick="window.app.removeActiveItem()">Remove Selected</button>
                </div>
                <div class="button-group button-group-margin">
                    <button id="editItemBtn" class="btn" onclick="window.app.editActiveItemPreset()" style="display: none;">Edit Preset</button>
                    <button id="deleteItemBtn" class="btn danger" onclick="window.app.deleteActiveItemPreset()" style="display: none;">Delete Preset</button>
                </div>
                <div class="button-group button-group-margin">
                    <button class="btn" onclick="window.app.resetState()">Reset & Clear</button>
                </div>
            </section>

            <section class="section" id="controlsSection" style="display: none;">
                <h3 id="activeItemName"></h3>
                <div class="input-grid">
                    <div class="input-group"><label>Length</label><input type="number" id="itemLength" step="0.1" onchange="window.app.updateActiveItemDimensions()"></div>
                    <div class="input-group"><label>Width</label><input type="number" id="itemWidth" step="0.1" onchange="window.app.updateActiveItemDimensions()"></div>
                    <div class="input-group"><label>Thickness</label><input type="number" id="itemThickness" step="0.1" onchange="window.app.updateActiveItemDimensions()"></div>
                </div>
                 
                <h3 class="section-margin">Position (cm)</h3>
                <div class="slider-group">
                    <label>X: <span id="posXValue">0.0</span></label>
                    <input type="range" id="posXSlider" min="0" max="100" value="50" step="0.1" oninput="window.app.updateFromUI()">
                </div>
                <div class="slider-group">
                    <label>Y: <span id="posYValue">0.0</span></label>
                    <input type="range" id="posYSlider" min="0" max="100" value="22" step="0.1" oninput="window.app.updateFromUI()">
                </div>
                <div class="slider-group">
                    <label>Z: <span id="posZValue">0.0</span></label>
                    <input type="range" id="posZSlider" min="0" max="93" value="46.5" step="0.1" oninput="window.app.updateFromUI()">
                </div>

                <h3 class="section-margin">Rotation</h3>
                <div class="slider-group">
                    <label><span>Yaw</span> <span><input type="number" id="yawInput" value="0" step="1" onchange="window.app.updateFromUI(true)">째</span></label>
                    <input type="range" id="yawSlider" min="0" max="359" value="0" oninput="window.app.updateFromUI()">
                </div>
                <div class="slider-group">
                    <label><span>Pitch</span> <span><input type="number" id="pitchInput" value="0" min="-90" max="90" step="1" onchange="window.app.updateFromUI(true)">째</span></label>
                    <input type="range" id="pitchSlider" min="-90" max="90" value="0" oninput="window.app.updateFromUI()">
                </div>
                <div class="slider-group">
                    <label><span>Roll</span> <span><input type="number" id="rollInput" value="0" min="-90" max="90" step="1" onchange="window.app.updateFromUI(true)">째</span></label>
                    <input type="range" id="rollSlider" min="-90" max="90" value="0" oninput="window.app.updateFromUI()">
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="snapRotation" onchange="window.app.updateFromUI()">
                    <label for="snapRotation">Snap to 90째</label>
                </div>
                <div class="button-group button-group-margin">
                    <button class="btn" onclick="window.app.centerActiveObject()">Center</button>
                </div>
            </section>
            <section class="section">
                <!-- Ad Unit -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-9583160305658839"
                     data-ad-slot="YOUR_AD_SLOT_ID"
                     data-full-width-responsive="true"></ins>
                <script>
                     window.addEventListener('load', () => {
                        (adsbygoogle = window.adsbygoogle || []).push({});
                     });
                </script>
            </section>
            <footer class="sidebar-footer">
                <div class="disclaimer">
                    <strong>Disclaimer:</strong> All data on this site is not verified and should not be used for any purchasing decisions.
                </div>
                <div class="copyright">
                    &copy; Andrew Carpenter, 2025
                </div>
                <div class="footer-links">
                    <a href="https://bsky.app/profile/ajcarpenter.com" target="_blank" rel="noopener">Bluesky</a>
                    <a href="https://github.com/ajcarpenter/doesmybootfit" target="_blank" rel="noopener">GitHub</a>
                </div>
            </footer>
        </aside>

        <main class="canvas-container">
            <canvas id="canvas"></canvas>
        </main>
    </div>

    <!-- Item Modal -->
    <div id="itemModal" class="modal-overlay">
        <div class="modal-content">
            <h3 id="itemModalTitle">Add Custom Item</h3>
            <form id="itemForm">
                <input type="hidden" id="itemId">
                <div class="input-group">
                    <label for="itemName">Item Name</label>
                    <input type="text" id="itemName" required>
                </div>
                <div class="input-grid">
                    <div class="input-group"><label>Length</label><input type="number" id="modalItemL" step="0.1" required></div>
                    <div class="input-group"><label>Width</label><input type="number" id="modalItemW" step="0.1" required></div>
                    <div class="input-group"><label>Thickness</label><input type="number" id="modalItemT" step="0.1" required></div>
                </div>
                <div class="button-group button-group-margin">
                    <button type="button" class="btn" onclick="window.app.hideItemModal()">Cancel</button>
                    <button type="submit" class="btn primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Car Modal -->
    <div id="carModal" class="modal-overlay">
        <div class="modal-content">
            <h3 id="carModalTitle">Add Custom Car</h3>
            <form id="carForm">
                <input type="hidden" id="carId">
                <div class="input-group">
                    <label for="carName">Car Name</label>
                    <input type="text" id="carName" required>
                </div>
                <div class="input-grid">
                     <div class="input-group"><label>Width</label><input type="number" id="modalCarW" step="0.1" required></div>
                     <div class="input-group"><label>Depth</label><input type="number" id="modalCarD" step="0.1" required></div>
                </div>
                <div class="toggle-group toggle-group-margin">
                    <label for="modalCarHasShelf">Removable Parcel Shelf</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="modalCarHasShelf" onchange="window.app.toggleShelfHeightInput()">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="input-group" id="shelfInGroup">
                    <label for="modalCarHShelfIn">Height (Shelf In)</label>
                    <input type="number" id="modalCarHShelfIn" step="0.1" required>
                </div>
                <div class="input-group" id="shelfOutGroup" style="display: none;">
                    <label for="modalCarHShelfOut">Height (Shelf Out)</label>
                    <input type="number" id="modalCarHShelfOut" step="0.1">
                </div>
                <div class="button-group button-group-margin">
                    <button type="button" class="btn" onclick="window.app.hideCarModal()">Cancel</button>
                    <button type="submit" class="btn primary">Save</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Main Application Script -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
